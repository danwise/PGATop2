<!DOCTYPE html> 
<html>
	<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1"> 
	<title>jQuery Mobile Framework - Dialog Example</title> 
    <link rel="stylesheet"  href="http://code.jquery.com/mobile/1.3.1/jquery.mobile-1.3.1.min.css" />
    <script src='http://code.jquery.com/jquery-1.8.2.min.js'></script>    
    <script src='../jquery.mobile-1.3.1/jquery.mobile-1.3.1.min.js'></script>
    <script src="../Scripts/GetURLParameters.js"></script>


</head> 
<body> 

<div data-role="dialog">
	<script language="javascript">
	    function loadGolfTeams() {

	        $.ajax(
                            {
                                type: "GET",
                                datatype: "xml",
                                url: "../xmlConfig.xml",
                                data: {},
                                async: false,
                                cache: false,
                                success: function (xml) {
                                    populateGolfTeams(xml);
                                },
                                error: function (XMLHttpRequest, textStatus, errorThrown) {
                                    alert(errorThrown);
                                }
                            });
	    }

	    function populateGolfTeams(xml) {
	        var index = 0;
	        var i = 0;
	        $(xml).find("GolfTeam").each(
                        function () {
                            if ($(this).find("GolfTeamId").text() == $.cookie("GolfTeamId"))
                                index = i;

                            $('#teamsappointed').append($('<option/>',
                            {
                                'text': $(this).find("GolfTeamName").text(),
                                'value': $(this).find("GolfTeamId").text() + ":" + $(this).find("GolfTeamName").text()
                            }));

                            i++;
                        });
	        var myselect = $("#teamsappointed");
	        myselect[0].selectedIndex = index;


	        $('#teamsappointed').selectmenu('refresh');
	    }


	    $("#teamsappointed").on("change", function () {
	        // loadTeam($(this).val());
	        var GolfInfo = $(this).val().split(":");
	        $.cookie("GolfTeamId", GolfInfo[0], { expires: 1000, path: '/' });
	        $.cookie("GolfTeamName", GolfInfo[1], { expires: 1000, path: '/' });
	        $("#undraftedGolfers").empty();
	        loadGolfers();
	    });
    </script>
		<div data-role="header" data-theme="d">
			<h1>Dialog</h1>

		</div>

		<div data-role="content" data-theme="c">
			<h1>Delete page?</h1>
			<p>This is a regular page, styled as a dialog. To create a dialog, just link to a normal page and include a transition and <code>data-rel="dialog"</code> attribute.</p>
			<a href="docs-dialogs.html" data-role="button" data-rel="back" data-theme="b">Sounds good</a>       
			<a href="docs-dialogs.html" data-role="button" data-rel="back" data-theme="c">Cancel</a>    
		</div>
	</div>


</body>
</html>